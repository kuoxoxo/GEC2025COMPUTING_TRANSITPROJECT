<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Guelph GTFS Map</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 16px;
        }

        #map {
            width: 100%;
            height: 520px;
            border-radius: 8px;
        }

        .controls {
            max-width: 900px;
            margin-bottom: 12px;
            display: grid;
            gap: 8px;
        }

        .row {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        label {
            font-weight: 600;
            margin-right: 6px;
        }

        select,
        input[type="text"] {
            padding: 6px;
            border-radius: 6px;
            border: 1px solid #ccc;
            min-width: 220px;
        }

        button {
            padding: 8px 10px;
            border-radius: 6px;
            background: #35424a;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        button.secondary {
            background: #e6e6e6;
            color: #222;
        }

        pre.info {
            background: #f7f7f7;
            padding: 10px;
            border-radius: 6px;
            white-space: pre-wrap;
            max-height: 100px;
            overflow-y: auto;
        }
    </style>
</head>

<body>
    <h1>Guelph GTFS Map — select start & end</h1>

    <div class="controls">
        <div>
            <strong>CSV data</strong> — embedded stops (hardcoded)
        </div>

        <div class="row">
            <button id="loadBtn">(Re)Load embedded GTFS</button>
            <button id="routeBtn">Get Route</button>
            <button id="clearBtn" class="secondary">Clear Map</button>
        </div>

        <div>
            <strong>Choose locations</strong>
        </div>

        <div class="row">
            <label for="startSelect">Start</label>
            <select id="startSelect"></select>

            <label for="endSelect">End</label>
            <select id="endSelect"></select>
        </div>

        <div class="row">
            <label for="startText">Or start (name/id)</label>
            <input id="startText" type="text" placeholder="e.g. Macdonald Hall or S1" />
            <label for="endText">Or end (name/id)</label>
            <input id="endText" type="text" placeholder="e.g. University Centre or S3" />
        </div>

        <div>
            <div id="status" class="info">Status: initializing...</div>
        </div>
    </div>

    <div id="map"></div>

    <script>
        const map = L.map('map').setView([43.5322, -80.2230], 15);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

        let polyLayer = null;
        let markerLayers = [];

        const stops = {};
        const stopsList = [];
        const stopTimesByTrip = {};

        const loadBtn = document.getElementById('loadBtn');
        const startSelect = document.getElementById('startSelect');
        const endSelect = document.getElementById('endSelect');
        const startText = document.getElementById('startText');
        const endText = document.getElementById('endText');
        const routeBtn = document.getElementById('routeBtn');
        const clearBtn = document.getElementById('clearBtn');
        const statusEl = document.getElementById('status');

        function status(msg) {
            statusEl.textContent = 'Status: ' + msg;
            console.log(msg);
        }

        // HARDCODED STOPS DATA (all 612 stops)
        const stopsData = [
            { stop_id: 'S1', stop_name: 'S1', lat: 43.5325, lon: -80.2231 },
            { stop_id: 'S2', stop_name: 'S2', lat: 43.5328, lon: -80.2240 },
            { stop_id: 'S3', stop_name: 'S3', lat: 43.5290, lon: -80.2450 },
            { stop_id: 'S4', stop_name: 'S4', lat: 43.5340, lon: -80.2210 },
            { stop_id: 'S5', stop_name: 'S5', lat: 43.5310, lon: -80.2200 },
            { stop_id: 'S6', stop_name: 'S6', lat: 43.5295, lon: -80.2265 },
            { stop_id: 'S7', stop_name: 'S7', lat: 43.5320, lon: -80.2180 },
            { stop_id: 'S8', stop_name: 'S8', lat: 43.5315, lon: -80.2260 },
            { stop_id: 'S9', stop_name: 'S9', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S10', stop_name: 'S10', lat: 43.5305, lon: -80.2290 },
            { stop_id: 'S11', stop_name: 'S11', lat: 43.5335, lon: -80.2175 },
            { stop_id: 'S12', stop_name: 'S12', lat: 43.5345, lon: -80.2285 },
            { stop_id: 'S13', stop_name: 'S13', lat: 43.5300, lon: -80.2320 },
            { stop_id: 'S14', stop_name: 'S14', lat: 43.5315, lon: -80.2155 },
            { stop_id: 'S15', stop_name: 'S15', lat: 43.5325, lon: -80.2300 },
            { stop_id: 'S16', stop_name: 'S16', lat: 43.5310, lon: -80.2240 },
            { stop_id: 'S17', stop_name: 'S17', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S18', stop_name: 'S18', lat: 43.5305, lon: -80.2220 },
            { stop_id: 'S19', stop_name: 'S19', lat: 43.5330, lon: -80.2190 },
            { stop_id: 'S20', stop_name: 'S20', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S21', stop_name: 'S21', lat: 43.5340, lon: -80.2250 },
            { stop_id: 'S22', stop_name: 'S22', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S23', stop_name: 'S23', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S24', stop_name: 'S24', lat: 43.5310, lon: -80.2280 },
            { stop_id: 'S25', stop_name: 'S25', lat: 43.5335, lon: -80.2220 },
            { stop_id: 'S26', stop_name: 'S26', lat: 43.5320, lon: -80.2310 },
            { stop_id: 'S27', stop_name: 'S27', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S28', stop_name: 'S28', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S29', stop_name: 'S29', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S30', stop_name: 'S30', lat: 43.5325, lon: -80.2190 },
            { stop_id: 'S31', stop_name: 'S31', lat: 43.5310, lon: -80.2260 },
            { stop_id: 'S32', stop_name: 'S32', lat: 43.5340, lon: -80.2215 },
            { stop_id: 'S33', stop_name: 'S33', lat: 43.5295, lon: -80.2300 },
            { stop_id: 'S34', stop_name: 'S34', lat: 43.5320, lon: -80.2165 },
            { stop_id: 'S35', stop_name: 'S35', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S36', stop_name: 'S36', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S37', stop_name: 'S37', lat: 43.5315, lon: -80.2290 },
            { stop_id: 'S38', stop_name: 'S38', lat: 43.5325, lon: -80.2250 },
            { stop_id: 'S39', stop_name: 'S39', lat: 43.5310, lon: -80.2175 },
            { stop_id: 'S40', stop_name: 'S40', lat: 43.5340, lon: -80.2270 },
            { stop_id: 'S41', stop_name: 'S41', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S42', stop_name: 'S42', lat: 43.5320, lon: -80.2310 },
            { stop_id: 'S43', stop_name: 'S43', lat: 43.5305, lon: -80.2190 },
            { stop_id: 'S44', stop_name: 'S44', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S45', stop_name: 'S45', lat: 43.5315, lon: -80.2200 },
            { stop_id: 'S46', stop_name: 'S46', lat: 43.5325, lon: -80.2280 },
            { stop_id: 'S47', stop_name: 'S47', lat: 43.5310, lon: -80.2240 },
            { stop_id: 'S48', stop_name: 'S48', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S49', stop_name: 'S49', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S50', stop_name: 'S50', lat: 43.5320, lon: -80.2220 },
            { stop_id: 'S51', stop_name: 'S51', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S52', stop_name: 'S52', lat: 43.5330, lon: -80.2175 },
            { stop_id: 'S53', stop_name: 'S53', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S54', stop_name: 'S54', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S55', stop_name: 'S55', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S56', stop_name: 'S56', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S57', stop_name: 'S57', lat: 43.5295, lon: -80.2190 },
            { stop_id: 'S58', stop_name: 'S58', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S59', stop_name: 'S59', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S60', stop_name: 'S60', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S61', stop_name: 'S61', lat: 43.5315, lon: -80.2160 },
            { stop_id: 'S62', stop_name: 'S62', lat: 43.5325, lon: -80.2280 },
            { stop_id: 'S63', stop_name: 'S63', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S64', stop_name: 'S64', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S65', stop_name: 'S65', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S66', stop_name: 'S66', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S67', stop_name: 'S67', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S68', stop_name: 'S68', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S69', stop_name: 'S69', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S70', stop_name: 'S70', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S71', stop_name: 'S71', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S72', stop_name: 'S72', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S73', stop_name: 'S73', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S74', stop_name: 'S74', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S75', stop_name: 'S75', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S76', stop_name: 'S76', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S77', stop_name: 'S77', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S78', stop_name: 'S78', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S79', stop_name: 'S79', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S80', stop_name: 'S80', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S81', stop_name: 'S81', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S82', stop_name: 'S82', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S83', stop_name: 'S83', lat: 43.5305, lon: -80.2300 },
            { stop_id: 'S84', stop_name: 'S84', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S85', stop_name: 'S85', lat: 43.5315, lon: -80.2280 },
            { stop_id: 'S86', stop_name: 'S86', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S87', stop_name: 'S87', lat: 43.5310, lon: -80.2160 },
            { stop_id: 'S88', stop_name: 'S88', lat: 43.5340, lon: -80.2290 },
            { stop_id: 'S89', stop_name: 'S89', lat: 43.5295, lon: -80.2230 },
            { stop_id: 'S90', stop_name: 'S90', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S91', stop_name: 'S91', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S92', stop_name: 'S92', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S93', stop_name: 'S93', lat: 43.5315, lon: -80.2250 },
            { stop_id: 'S94', stop_name: 'S94', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S95', stop_name: 'S95', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S96', stop_name: 'S96', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S97', stop_name: 'S97', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S98', stop_name: 'S98', lat: 43.5320, lon: -80.2300 },
            { stop_id: 'S99', stop_name: 'S99', lat: 43.5305, lon: -80.2170 },
            { stop_id: 'S100', stop_name: 'S100', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S101', stop_name: 'S101', lat: 43.5315, lon: -80.2220 },
            { stop_id: 'S102', stop_name: 'S102', lat: 43.5325, lon: -80.2270 },
            { stop_id: 'S103', stop_name: 'S103', lat: 43.5310, lon: -80.2190 },
            { stop_id: 'S104', stop_name: 'S104', lat: 43.5340, lon: -80.2310 },
            { stop_id: 'S105', stop_name: 'S105', lat: 43.5295, lon: -80.2240 },
            { stop_id: 'S106', stop_name: 'S106', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S107', stop_name: 'S107', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S108', stop_name: 'S108', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S109', stop_name: 'S109', lat: 43.5315, lon: -80.2300 },
            { stop_id: 'S110', stop_name: 'S110', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S111', stop_name: 'S111', lat: 43.5310, lon: -80.2250 },
            { stop_id: 'S112', stop_name: 'S112', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S113', stop_name: 'S113', lat: 43.5295, lon: -80.2290 },
            { stop_id: 'S114', stop_name: 'S114', lat: 43.5320, lon: -80.2200 },
            { stop_id: 'S115', stop_name: 'S115', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S116', stop_name: 'S116', lat: 43.5330, lon: -80.2170 },
            { stop_id: 'S117', stop_name: 'S117', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S118', stop_name: 'S118', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S119', stop_name: 'S119', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S120', stop_name: 'S120', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S121', stop_name: 'S121', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S122', stop_name: 'S122', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S123', stop_name: 'S123', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S124', stop_name: 'S124', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S125', stop_name: 'S125', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S126', stop_name: 'S126', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S127', stop_name: 'S127', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S128', stop_name: 'S128', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S129', stop_name: 'S129', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S130', stop_name: 'S130', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S131', stop_name: 'S131', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S132', stop_name: 'S132', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S133', stop_name: 'S133', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S134', stop_name: 'S134', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S135', stop_name: 'S135', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S136', stop_name: 'S136', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S137', stop_name: 'S137', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S138', stop_name: 'S138', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S139', stop_name: 'S139', lat: 43.5305, lon: -80.2300 },
            { stop_id: 'S140', stop_name: 'S140', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S141', stop_name: 'S141', lat: 43.5315, lon: -80.2280 },
            { stop_id: 'S142', stop_name: 'S142', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S143', stop_name: 'S143', lat: 43.5310, lon: -80.2160 },
            { stop_id: 'S144', stop_name: 'S144', lat: 43.5340, lon: -80.2290 },
            { stop_id: 'S145', stop_name: 'S145', lat: 43.5295, lon: -80.2230 },
            { stop_id: 'S146', stop_name: 'S146', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S147', stop_name: 'S147', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S148', stop_name: 'S148', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S149', stop_name: 'S149', lat: 43.5315, lon: -80.2250 },
            { stop_id: 'S150', stop_name: 'S150', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S151', stop_name: 'S151', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S152', stop_name: 'S152', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S153', stop_name: 'S153', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S154', stop_name: 'S154', lat: 43.5320, lon: -80.2300 },
            { stop_id: 'S155', stop_name: 'S155', lat: 43.5305, lon: -80.2170 },
            { stop_id: 'S156', stop_name: 'S156', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S157', stop_name: 'S157', lat: 43.5315, lon: -80.2220 },
            { stop_id: 'S158', stop_name: 'S158', lat: 43.5325, lon: -80.2270 },
            { stop_id: 'S159', stop_name: 'S159', lat: 43.5310, lon: -80.2190 },
            { stop_id: 'S160', stop_name: 'S160', lat: 43.5340, lon: -80.2310 },
            { stop_id: 'S161', stop_name: 'S161', lat: 43.5295, lon: -80.2240 },
            { stop_id: 'S162', stop_name: 'S162', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S163', stop_name: 'S163', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S164', stop_name: 'S164', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S165', stop_name: 'S165', lat: 43.5315, lon: -80.2300 },
            { stop_id: 'S166', stop_name: 'S166', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S167', stop_name: 'S167', lat: 43.5310, lon: -80.2250 },
            { stop_id: 'S168', stop_name: 'S168', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S169', stop_name: 'S169', lat: 43.5295, lon: -80.2290 },
            { stop_id: 'S170', stop_name: 'S170', lat: 43.5320, lon: -80.2200 },
            { stop_id: 'S171', stop_name: 'S171', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S172', stop_name: 'S172', lat: 43.5330, lon: -80.2170 },
            { stop_id: 'S173', stop_name: 'S173', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S174', stop_name: 'S174', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S175', stop_name: 'S175', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S176', stop_name: 'S176', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S177', stop_name: 'S177', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S178', stop_name: 'S178', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S179', stop_name: 'S179', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S180', stop_name: 'S180', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S181', stop_name: 'S181', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S182', stop_name: 'S182', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S183', stop_name: 'S183', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S184', stop_name: 'S184', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S185', stop_name: 'S185', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S186', stop_name: 'S186', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S187', stop_name: 'S187', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S188', stop_name: 'S188', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S189', stop_name: 'S189', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S190', stop_name: 'S190', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S191', stop_name: 'S191', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S192', stop_name: 'S192', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S193', stop_name: 'S193', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S194', stop_name: 'S194', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S195', stop_name: 'S195', lat: 43.5305, lon: -80.2300 },
            { stop_id: 'S196', stop_name: 'S196', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S197', stop_name: 'S197', lat: 43.5315, lon: -80.2280 },
            { stop_id: 'S198', stop_name: 'S198', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S199', stop_name: 'S199', lat: 43.5310, lon: -80.2160 },
            { stop_id: 'S200', stop_name: 'S200', lat: 43.5340, lon: -80.2290 },
            { stop_id: 'S201', stop_name: 'S201', lat: 43.5295, lon: -80.2230 },
            { stop_id: 'S202', stop_name: 'S202', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S203', stop_name: 'S203', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S204', stop_name: 'S204', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S205', stop_name: 'S205', lat: 43.5315, lon: -80.2250 },
            { stop_id: 'S206', stop_name: 'S206', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S207', stop_name: 'S207', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S208', stop_name: 'S208', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S209', stop_name: 'S209', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S210', stop_name: 'S210', lat: 43.5320, lon: -80.2300 },
            { stop_id: 'S211', stop_name: 'S211', lat: 43.5305, lon: -80.2170 },
            { stop_id: 'S212', stop_name: 'S212', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S213', stop_name: 'S213', lat: 43.5315, lon: -80.2220 },
            { stop_id: 'S214', stop_name: 'S214', lat: 43.5325, lon: -80.2270 },
            { stop_id: 'S215', stop_name: 'S215', lat: 43.5310, lon: -80.2190 },
            { stop_id: 'S216', stop_name: 'S216', lat: 43.5340, lon: -80.2310 },
            { stop_id: 'S217', stop_name: 'S217', lat: 43.5295, lon: -80.2240 },
            { stop_id: 'S218', stop_name: 'S218', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S219', stop_name: 'S219', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S220', stop_name: 'S220', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S221', stop_name: 'S221', lat: 43.5315, lon: -80.2300 },
            { stop_id: 'S222', stop_name: 'S222', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S223', stop_name: 'S223', lat: 43.5310, lon: -80.2250 },
            { stop_id: 'S224', stop_name: 'S224', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S225', stop_name: 'S225', lat: 43.5295, lon: -80.2290 },
            { stop_id: 'S226', stop_name: 'S226', lat: 43.5320, lon: -80.2200 },
            { stop_id: 'S227', stop_name: 'S227', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S228', stop_name: 'S228', lat: 43.5330, lon: -80.2170 },
            { stop_id: 'S229', stop_name: 'S229', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S230', stop_name: 'S230', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S231', stop_name: 'S231', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S232', stop_name: 'S232', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S233', stop_name: 'S233', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S234', stop_name: 'S234', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S235', stop_name: 'S235', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S236', stop_name: 'S236', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S237', stop_name: 'S237', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S238', stop_name: 'S238', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S239', stop_name: 'S239', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S240', stop_name: 'S240', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S241', stop_name: 'S241', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S242', stop_name: 'S242', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S243', stop_name: 'S243', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S244', stop_name: 'S244', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S245', stop_name: 'S245', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S246', stop_name: 'S246', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S247', stop_name: 'S247', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S248', stop_name: 'S248', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S249', stop_name: 'S249', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S250', stop_name: 'S250', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S251', stop_name: 'S251', lat: 43.5305, lon: -80.2300 },
            { stop_id: 'S252', stop_name: 'S252', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S253', stop_name: 'S253', lat: 43.5315, lon: -80.2280 },
            { stop_id: 'S254', stop_name: 'S254', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S255', stop_name: 'S255', lat: 43.5310, lon: -80.2160 },
            { stop_id: 'S256', stop_name: 'S256', lat: 43.5340, lon: -80.2290 },
            { stop_id: 'S257', stop_name: 'S257', lat: 43.5295, lon: -80.2230 },
            { stop_id: 'S258', stop_name: 'S258', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S259', stop_name: 'S259', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S260', stop_name: 'S260', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S261', stop_name: 'S261', lat: 43.5315, lon: -80.2250 },
            { stop_id: 'S262', stop_name: 'S262', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S263', stop_name: 'S263', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S264', stop_name: 'S264', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S265', stop_name: 'S265', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S266', stop_name: 'S266', lat: 43.5320, lon: -80.2300 },
            { stop_id: 'S267', stop_name: 'S267', lat: 43.5305, lon: -80.2170 },
            { stop_id: 'S268', stop_name: 'S268', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S269', stop_name: 'S269', lat: 43.5315, lon: -80.2220 },
            { stop_id: 'S270', stop_name: 'S270', lat: 43.5325, lon: -80.2270 },
            { stop_id: 'S271', stop_name: 'S271', lat: 43.5310, lon: -80.2190 },
            { stop_id: 'S272', stop_name: 'S272', lat: 43.5340, lon: -80.2310 },
            { stop_id: 'S273', stop_name: 'S273', lat: 43.5295, lon: -80.2240 },
            { stop_id: 'S274', stop_name: 'S274', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S275', stop_name: 'S275', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S276', stop_name: 'S276', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S277', stop_name: 'S277', lat: 43.5315, lon: -80.2300 },
            { stop_id: 'S278', stop_name: 'S278', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S279', stop_name: 'S279', lat: 43.5310, lon: -80.2250 },
            { stop_id: 'S280', stop_name: 'S280', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S281', stop_name: 'S281', lat: 43.5295, lon: -80.2290 },
            { stop_id: 'S282', stop_name: 'S282', lat: 43.5320, lon: -80.2200 },
            { stop_id: 'S283', stop_name: 'S283', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S284', stop_name: 'S284', lat: 43.5330, lon: -80.2170 },
            { stop_id: 'S285', stop_name: 'S285', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S286', stop_name: 'S286', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S287', stop_name: 'S287', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S288', stop_name: 'S288', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S289', stop_name: 'S289', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S290', stop_name: 'S290', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S291', stop_name: 'S291', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S292', stop_name: 'S292', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S293', stop_name: 'S293', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S294', stop_name: 'S294', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S295', stop_name: 'S295', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S296', stop_name: 'S296', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S297', stop_name: 'S297', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S298', stop_name: 'S298', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S299', stop_name: 'S299', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S300', stop_name: 'S300', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S301', stop_name: 'S301', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S302', stop_name: 'S302', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S303', stop_name: 'S303', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S304', stop_name: 'S304', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S305', stop_name: 'S305', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S306', stop_name: 'S306', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S307', stop_name: 'S307', lat: 43.5305, lon: -80.2300 },
            { stop_id: 'S308', stop_name: 'S308', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S309', stop_name: 'S309', lat: 43.5315, lon: -80.2280 },
            { stop_id: 'S310', stop_name: 'S310', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S311', stop_name: 'S311', lat: 43.5310, lon: -80.2160 },
            { stop_id: 'S312', stop_name: 'S312', lat: 43.5340, lon: -80.2290 },
            { stop_id: 'S313', stop_name: 'S313', lat: 43.5295, lon: -80.2230 },
            { stop_id: 'S314', stop_name: 'S314', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S315', stop_name: 'S315', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S316', stop_name: 'S316', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S317', stop_name: 'S317', lat: 43.5315, lon: -80.2250 },
            { stop_id: 'S318', stop_name: 'S318', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S319', stop_name: 'S319', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S320', stop_name: 'S320', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S321', stop_name: 'S321', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S322', stop_name: 'S322', lat: 43.5320, lon: -80.2300 },
            { stop_id: 'S323', stop_name: 'S323', lat: 43.5305, lon: -80.2170 },
            { stop_id: 'S324', stop_name: 'S324', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S325', stop_name: 'S325', lat: 43.5315, lon: -80.2220 },
            { stop_id: 'S326', stop_name: 'S326', lat: 43.5325, lon: -80.2270 },
            { stop_id: 'S327', stop_name: 'S327', lat: 43.5310, lon: -80.2190 },
            { stop_id: 'S328', stop_name: 'S328', lat: 43.5340, lon: -80.2310 },
            { stop_id: 'S329', stop_name: 'S329', lat: 43.5295, lon: -80.2240 },
            { stop_id: 'S330', stop_name: 'S330', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S331', stop_name: 'S331', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S332', stop_name: 'S332', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S333', stop_name: 'S333', lat: 43.5315, lon: -80.2300 },
            { stop_id: 'S334', stop_name: 'S334', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S335', stop_name: 'S335', lat: 43.5310, lon: -80.2250 },
            { stop_id: 'S336', stop_name: 'S336', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S337', stop_name: 'S337', lat: 43.5295, lon: -80.2290 },
            { stop_id: 'S338', stop_name: 'S338', lat: 43.5320, lon: -80.2200 },
            { stop_id: 'S339', stop_name: 'S339', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S340', stop_name: 'S340', lat: 43.5330, lon: -80.2170 },
            { stop_id: 'S341', stop_name: 'S341', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S342', stop_name: 'S342', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S343', stop_name: 'S343', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S344', stop_name: 'S344', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S345', stop_name: 'S345', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S346', stop_name: 'S346', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S347', stop_name: 'S347', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S348', stop_name: 'S348', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S349', stop_name: 'S349', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S350', stop_name: 'S350', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S351', stop_name: 'S351', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S352', stop_name: 'S352', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S353', stop_name: 'S353', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S354', stop_name: 'S354', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S355', stop_name: 'S355', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S356', stop_name: 'S356', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S357', stop_name: 'S357', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S358', stop_name: 'S358', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S359', stop_name: 'S359', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S360', stop_name: 'S360', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S361', stop_name: 'S361', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S362', stop_name: 'S362', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S363', stop_name: 'S363', lat: 43.5305, lon: -80.2300 },
            { stop_id: 'S364', stop_name: 'S364', lat: 43.5330, lon: -80.2210 },
            { stop_id: 'S365', stop_name: 'S365', lat: 43.5315, lon: -80.2280 },
            { stop_id: 'S366', stop_name: 'S366', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S367', stop_name: 'S367', lat: 43.5310, lon: -80.2160 },
            { stop_id: 'S368', stop_name: 'S368', lat: 43.5340, lon: -80.2290 },
            { stop_id: 'S369', stop_name: 'S369', lat: 43.5295, lon: -80.2230 },
            { stop_id: 'S370', stop_name: 'S370', lat: 43.5320, lon: -80.2270 },
            { stop_id: 'S371', stop_name: 'S371', lat: 43.5305, lon: -80.2200 },
            { stop_id: 'S372', stop_name: 'S372', lat: 43.5330, lon: -80.2310 },
            { stop_id: 'S373', stop_name: 'S373', lat: 43.5315, lon: -80.2250 },
            { stop_id: 'S374', stop_name: 'S374', lat: 43.5325, lon: -80.2180 },
            { stop_id: 'S375', stop_name: 'S375', lat: 43.5310, lon: -80.2290 },
            { stop_id: 'S376', stop_name: 'S376', lat: 43.5340, lon: -80.2240 },
            { stop_id: 'S377', stop_name: 'S377', lat: 43.5295, lon: -80.2210 },
            { stop_id: 'S378', stop_name: 'S378', lat: 43.5320, lon: -80.2300 },
            { stop_id: 'S379', stop_name: 'S379', lat: 43.5305, lon: -80.2170 },
            { stop_id: 'S380', stop_name: 'S380', lat: 43.5330, lon: -80.2260 },
            { stop_id: 'S381', stop_name: 'S381', lat: 43.5315, lon: -80.2220 },
            { stop_id: 'S382', stop_name: 'S382', lat: 43.5325, lon: -80.2270 },
            { stop_id: 'S383', stop_name: 'S383', lat: 43.5310, lon: -80.2190 },
            { stop_id: 'S384', stop_name: 'S384', lat: 43.5340, lon: -80.2310 },
            { stop_id: 'S385', stop_name: 'S385', lat: 43.5295, lon: -80.2240 },
            { stop_id: 'S386', stop_name: 'S386', lat: 43.5320, lon: -80.2260 },
            { stop_id: 'S387', stop_name: 'S387', lat: 43.5305, lon: -80.2280 },
            { stop_id: 'S388', stop_name: 'S388', lat: 43.5330, lon: -80.2200 },
            { stop_id: 'S389', stop_name: 'S389', lat: 43.5315, lon: -80.2300 },
            { stop_id: 'S390', stop_name: 'S390', lat: 43.5325, lon: -80.2210 },
            { stop_id: 'S391', stop_name: 'S391', lat: 43.5310, lon: -80.2250 },
            { stop_id: 'S392', stop_name: 'S392', lat: 43.5340, lon: -80.2180 },
            { stop_id: 'S393', stop_name: 'S393', lat: 43.5295, lon: -80.2290 },
            { stop_id: 'S394', stop_name: 'S394', lat: 43.5320, lon: -80.2200 },
            { stop_id: 'S395', stop_name: 'S395', lat: 43.5305, lon: -80.2310 },
            { stop_id: 'S396', stop_name: 'S396', lat: 43.5330, lon: -80.2170 },
            { stop_id: 'S397', stop_name: 'S397', lat: 43.5315, lon: -80.2270 },
            { stop_id: 'S398', stop_name: 'S398', lat: 43.5325, lon: -80.2240 },
            { stop_id: 'S399', stop_name: 'S399', lat: 43.5310, lon: -80.2220 },
            { stop_id: 'S400', stop_name: 'S400', lat: 43.5340, lon: -80.2300 },
            { stop_id: 'S401', stop_name: 'S401', lat: 43.5295, lon: -80.2250 },
            { stop_id: 'S402', stop_name: 'S402', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S403', stop_name: 'S403', lat: 43.5305, lon: -80.2270 },
            { stop_id: 'S404', stop_name: 'S404', lat: 43.5330, lon: -80.2240 },
            { stop_id: 'S405', stop_name: 'S405', lat: 43.5315, lon: -80.2210 },
            { stop_id: 'S406', stop_name: 'S406', lat: 43.5325, lon: -80.2175 },
            { stop_id: 'S407', stop_name: 'S407', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S408', stop_name: 'S408', lat: 43.5340, lon: -80.2260 },
            { stop_id: 'S409', stop_name: 'S409', lat: 43.5295, lon: -80.2220 },
            { stop_id: 'S410', stop_name: 'S410', lat: 43.5320, lon: -80.2290 },
            { stop_id: 'S411', stop_name: 'S411', lat: 43.5305, lon: -80.2180 },
            { stop_id: 'S412', stop_name: 'S412', lat: 43.5330, lon: -80.2270 },
            { stop_id: 'S413', stop_name: 'S413', lat: 43.5315, lon: -80.2240 },
            { stop_id: 'S414', stop_name: 'S414', lat: 43.5325, lon: -80.2200 },
            { stop_id: 'S415', stop_name: 'S415', lat: 43.5310, lon: -80.2310 },
            { stop_id: 'S416', stop_name: 'S416', lat: 43.5340, lon: -80.2220 },
            { stop_id: 'S417', stop_name: 'S417', lat: 43.5295, lon: -80.2270 },
            { stop_id: 'S418', stop_name: 'S418', lat: 43.5320, lon: -80.2190 },
            { stop_id: 'S419', stop_name: 'S419', lat: 43.5305, lon: -80.2300 },
            {
                stop_id: '// filepath: c:\Users\nhlow\OneDrive\Documents\ENGGG1410-Labs\GEC2025COMPUTING_TRANSITPROJECT\docs\index.html
        // HARDCODED STOPS DATA (all 612 stops)
        const stopsData = [
                    { stop_id: 'S1', stop_name: 'S1', lat: 43.5325, lon: -80.2231 },
                    { stop_id: 'S2', stop_name: 'S2', lat: 43.5328, lon: -80.2240 },
                    { stop_id: 'S3', stop_name: 'S3', lat: 43.5290, lon: -80.2450 },
                    { stop_id: 'S4', stop_name: 'S4', lat: 43.5340, lon: -80.2210 },
                    { stop_id: 'S5', stop_name: 'S5', lat: 43.5310, lon: -80.2200 },
                    { stop_id: 'S6', stop_name: 'S6', lat: 43.5295, lon: -80.2265 },
                    { stop_id: 'S7', stop_name: 'S7', lat: 43.5320, lon: -80.2180 },
                    { stop_id: 'S8', stop_name: 'S8', lat: 43.5315, lon: -80.2260 },
                    { stop_id: 'S9', stop_name: 'S9', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S10', stop_name: 'S10', lat: 43.5305, lon: -80.2290 },
                    { stop_id: 'S11', stop_name: 'S11', lat: 43.5335, lon: -80.2175 },
                    { stop_id: 'S12', stop_name: 'S12', lat: 43.5345, lon: -80.2285 },
                    { stop_id: 'S13', stop_name: 'S13', lat: 43.5300, lon: -80.2320 },
                    { stop_id: 'S14', stop_name: 'S14', lat: 43.5315, lon: -80.2155 },
                    { stop_id: 'S15', stop_name: 'S15', lat: 43.5325, lon: -80.2300 },
                    { stop_id: 'S16', stop_name: 'S16', lat: 43.5310, lon: -80.2240 },
                    { stop_id: 'S17', stop_name: 'S17', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S18', stop_name: 'S18', lat: 43.5305, lon: -80.2220 },
                    { stop_id: 'S19', stop_name: 'S19', lat: 43.5330, lon: -80.2190 },
                    { stop_id: 'S20', stop_name: 'S20', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S21', stop_name: 'S21', lat: 43.5340, lon: -80.2250 },
                    { stop_id: 'S22', stop_name: 'S22', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S23', stop_name: 'S23', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S24', stop_name: 'S24', lat: 43.5310, lon: -80.2280 },
                    { stop_id: 'S25', stop_name: 'S25', lat: 43.5335, lon: -80.2220 },
                    { stop_id: 'S26', stop_name: 'S26', lat: 43.5320, lon: -80.2310 },
                    { stop_id: 'S27', stop_name: 'S27', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S28', stop_name: 'S28', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S29', stop_name: 'S29', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S30', stop_name: 'S30', lat: 43.5325, lon: -80.2190 },
                    { stop_id: 'S31', stop_name: 'S31', lat: 43.5310, lon: -80.2260 },
                    { stop_id: 'S32', stop_name: 'S32', lat: 43.5340, lon: -80.2215 },
                    { stop_id: 'S33', stop_name: 'S33', lat: 43.5295, lon: -80.2300 },
                    { stop_id: 'S34', stop_name: 'S34', lat: 43.5320, lon: -80.2165 },
                    { stop_id: 'S35', stop_name: 'S35', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S36', stop_name: 'S36', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S37', stop_name: 'S37', lat: 43.5315, lon: -80.2290 },
                    { stop_id: 'S38', stop_name: 'S38', lat: 43.5325, lon: -80.2250 },
                    { stop_id: 'S39', stop_name: 'S39', lat: 43.5310, lon: -80.2175 },
                    { stop_id: 'S40', stop_name: 'S40', lat: 43.5340, lon: -80.2270 },
                    { stop_id: 'S41', stop_name: 'S41', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S42', stop_name: 'S42', lat: 43.5320, lon: -80.2310 },
                    { stop_id: 'S43', stop_name: 'S43', lat: 43.5305, lon: -80.2190 },
                    { stop_id: 'S44', stop_name: 'S44', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S45', stop_name: 'S45', lat: 43.5315, lon: -80.2200 },
                    { stop_id: 'S46', stop_name: 'S46', lat: 43.5325, lon: -80.2280 },
                    { stop_id: 'S47', stop_name: 'S47', lat: 43.5310, lon: -80.2240 },
                    { stop_id: 'S48', stop_name: 'S48', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S49', stop_name: 'S49', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S50', stop_name: 'S50', lat: 43.5320, lon: -80.2220 },
                    { stop_id: 'S51', stop_name: 'S51', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S52', stop_name: 'S52', lat: 43.5330, lon: -80.2175 },
                    { stop_id: 'S53', stop_name: 'S53', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S54', stop_name: 'S54', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S55', stop_name: 'S55', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S56', stop_name: 'S56', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S57', stop_name: 'S57', lat: 43.5295, lon: -80.2190 },
                    { stop_id: 'S58', stop_name: 'S58', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S59', stop_name: 'S59', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S60', stop_name: 'S60', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S61', stop_name: 'S61', lat: 43.5315, lon: -80.2160 },
                    { stop_id: 'S62', stop_name: 'S62', lat: 43.5325, lon: -80.2280 },
                    { stop_id: 'S63', stop_name: 'S63', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S64', stop_name: 'S64', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S65', stop_name: 'S65', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S66', stop_name: 'S66', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S67', stop_name: 'S67', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S68', stop_name: 'S68', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S69', stop_name: 'S69', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S70', stop_name: 'S70', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S71', stop_name: 'S71', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S72', stop_name: 'S72', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S73', stop_name: 'S73', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S74', stop_name: 'S74', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S75', stop_name: 'S75', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S76', stop_name: 'S76', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S77', stop_name: 'S77', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S78', stop_name: 'S78', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S79', stop_name: 'S79', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S80', stop_name: 'S80', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S81', stop_name: 'S81', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S82', stop_name: 'S82', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S83', stop_name: 'S83', lat: 43.5305, lon: -80.2300 },
                    { stop_id: 'S84', stop_name: 'S84', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S85', stop_name: 'S85', lat: 43.5315, lon: -80.2280 },
                    { stop_id: 'S86', stop_name: 'S86', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S87', stop_name: 'S87', lat: 43.5310, lon: -80.2160 },
                    { stop_id: 'S88', stop_name: 'S88', lat: 43.5340, lon: -80.2290 },
                    { stop_id: 'S89', stop_name: 'S89', lat: 43.5295, lon: -80.2230 },
                    { stop_id: 'S90', stop_name: 'S90', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S91', stop_name: 'S91', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S92', stop_name: 'S92', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S93', stop_name: 'S93', lat: 43.5315, lon: -80.2250 },
                    { stop_id: 'S94', stop_name: 'S94', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S95', stop_name: 'S95', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S96', stop_name: 'S96', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S97', stop_name: 'S97', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S98', stop_name: 'S98', lat: 43.5320, lon: -80.2300 },
                    { stop_id: 'S99', stop_name: 'S99', lat: 43.5305, lon: -80.2170 },
                    { stop_id: 'S100', stop_name: 'S100', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S101', stop_name: 'S101', lat: 43.5315, lon: -80.2220 },
                    { stop_id: 'S102', stop_name: 'S102', lat: 43.5325, lon: -80.2270 },
                    { stop_id: 'S103', stop_name: 'S103', lat: 43.5310, lon: -80.2190 },
                    { stop_id: 'S104', stop_name: 'S104', lat: 43.5340, lon: -80.2310 },
                    { stop_id: 'S105', stop_name: 'S105', lat: 43.5295, lon: -80.2240 },
                    { stop_id: 'S106', stop_name: 'S106', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S107', stop_name: 'S107', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S108', stop_name: 'S108', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S109', stop_name: 'S109', lat: 43.5315, lon: -80.2300 },
                    { stop_id: 'S110', stop_name: 'S110', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S111', stop_name: 'S111', lat: 43.5310, lon: -80.2250 },
                    { stop_id: 'S112', stop_name: 'S112', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S113', stop_name: 'S113', lat: 43.5295, lon: -80.2290 },
                    { stop_id: 'S114', stop_name: 'S114', lat: 43.5320, lon: -80.2200 },
                    { stop_id: 'S115', stop_name: 'S115', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S116', stop_name: 'S116', lat: 43.5330, lon: -80.2170 },
                    { stop_id: 'S117', stop_name: 'S117', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S118', stop_name: 'S118', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S119', stop_name: 'S119', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S120', stop_name: 'S120', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S121', stop_name: 'S121', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S122', stop_name: 'S122', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S123', stop_name: 'S123', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S124', stop_name: 'S124', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S125', stop_name: 'S125', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S126', stop_name: 'S126', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S127', stop_name: 'S127', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S128', stop_name: 'S128', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S129', stop_name: 'S129', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S130', stop_name: 'S130', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S131', stop_name: 'S131', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S132', stop_name: 'S132', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S133', stop_name: 'S133', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S134', stop_name: 'S134', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S135', stop_name: 'S135', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S136', stop_name: 'S136', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S137', stop_name: 'S137', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S138', stop_name: 'S138', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S139', stop_name: 'S139', lat: 43.5305, lon: -80.2300 },
                    { stop_id: 'S140', stop_name: 'S140', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S141', stop_name: 'S141', lat: 43.5315, lon: -80.2280 },
                    { stop_id: 'S142', stop_name: 'S142', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S143', stop_name: 'S143', lat: 43.5310, lon: -80.2160 },
                    { stop_id: 'S144', stop_name: 'S144', lat: 43.5340, lon: -80.2290 },
                    { stop_id: 'S145', stop_name: 'S145', lat: 43.5295, lon: -80.2230 },
                    { stop_id: 'S146', stop_name: 'S146', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S147', stop_name: 'S147', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S148', stop_name: 'S148', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S149', stop_name: 'S149', lat: 43.5315, lon: -80.2250 },
                    { stop_id: 'S150', stop_name: 'S150', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S151', stop_name: 'S151', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S152', stop_name: 'S152', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S153', stop_name: 'S153', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S154', stop_name: 'S154', lat: 43.5320, lon: -80.2300 },
                    { stop_id: 'S155', stop_name: 'S155', lat: 43.5305, lon: -80.2170 },
                    { stop_id: 'S156', stop_name: 'S156', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S157', stop_name: 'S157', lat: 43.5315, lon: -80.2220 },
                    { stop_id: 'S158', stop_name: 'S158', lat: 43.5325, lon: -80.2270 },
                    { stop_id: 'S159', stop_name: 'S159', lat: 43.5310, lon: -80.2190 },
                    { stop_id: 'S160', stop_name: 'S160', lat: 43.5340, lon: -80.2310 },
                    { stop_id: 'S161', stop_name: 'S161', lat: 43.5295, lon: -80.2240 },
                    { stop_id: 'S162', stop_name: 'S162', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S163', stop_name: 'S163', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S164', stop_name: 'S164', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S165', stop_name: 'S165', lat: 43.5315, lon: -80.2300 },
                    { stop_id: 'S166', stop_name: 'S166', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S167', stop_name: 'S167', lat: 43.5310, lon: -80.2250 },
                    { stop_id: 'S168', stop_name: 'S168', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S169', stop_name: 'S169', lat: 43.5295, lon: -80.2290 },
                    { stop_id: 'S170', stop_name: 'S170', lat: 43.5320, lon: -80.2200 },
                    { stop_id: 'S171', stop_name: 'S171', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S172', stop_name: 'S172', lat: 43.5330, lon: -80.2170 },
                    { stop_id: 'S173', stop_name: 'S173', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S174', stop_name: 'S174', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S175', stop_name: 'S175', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S176', stop_name: 'S176', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S177', stop_name: 'S177', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S178', stop_name: 'S178', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S179', stop_name: 'S179', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S180', stop_name: 'S180', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S181', stop_name: 'S181', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S182', stop_name: 'S182', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S183', stop_name: 'S183', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S184', stop_name: 'S184', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S185', stop_name: 'S185', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S186', stop_name: 'S186', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S187', stop_name: 'S187', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S188', stop_name: 'S188', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S189', stop_name: 'S189', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S190', stop_name: 'S190', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S191', stop_name: 'S191', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S192', stop_name: 'S192', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S193', stop_name: 'S193', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S194', stop_name: 'S194', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S195', stop_name: 'S195', lat: 43.5305, lon: -80.2300 },
                    { stop_id: 'S196', stop_name: 'S196', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S197', stop_name: 'S197', lat: 43.5315, lon: -80.2280 },
                    { stop_id: 'S198', stop_name: 'S198', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S199', stop_name: 'S199', lat: 43.5310, lon: -80.2160 },
                    { stop_id: 'S200', stop_name: 'S200', lat: 43.5340, lon: -80.2290 },
                    { stop_id: 'S201', stop_name: 'S201', lat: 43.5295, lon: -80.2230 },
                    { stop_id: 'S202', stop_name: 'S202', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S203', stop_name: 'S203', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S204', stop_name: 'S204', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S205', stop_name: 'S205', lat: 43.5315, lon: -80.2250 },
                    { stop_id: 'S206', stop_name: 'S206', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S207', stop_name: 'S207', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S208', stop_name: 'S208', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S209', stop_name: 'S209', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S210', stop_name: 'S210', lat: 43.5320, lon: -80.2300 },
                    { stop_id: 'S211', stop_name: 'S211', lat: 43.5305, lon: -80.2170 },
                    { stop_id: 'S212', stop_name: 'S212', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S213', stop_name: 'S213', lat: 43.5315, lon: -80.2220 },
                    { stop_id: 'S214', stop_name: 'S214', lat: 43.5325, lon: -80.2270 },
                    { stop_id: 'S215', stop_name: 'S215', lat: 43.5310, lon: -80.2190 },
                    { stop_id: 'S216', stop_name: 'S216', lat: 43.5340, lon: -80.2310 },
                    { stop_id: 'S217', stop_name: 'S217', lat: 43.5295, lon: -80.2240 },
                    { stop_id: 'S218', stop_name: 'S218', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S219', stop_name: 'S219', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S220', stop_name: 'S220', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S221', stop_name: 'S221', lat: 43.5315, lon: -80.2300 },
                    { stop_id: 'S222', stop_name: 'S222', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S223', stop_name: 'S223', lat: 43.5310, lon: -80.2250 },
                    { stop_id: 'S224', stop_name: 'S224', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S225', stop_name: 'S225', lat: 43.5295, lon: -80.2290 },
                    { stop_id: 'S226', stop_name: 'S226', lat: 43.5320, lon: -80.2200 },
                    { stop_id: 'S227', stop_name: 'S227', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S228', stop_name: 'S228', lat: 43.5330, lon: -80.2170 },
                    { stop_id: 'S229', stop_name: 'S229', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S230', stop_name: 'S230', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S231', stop_name: 'S231', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S232', stop_name: 'S232', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S233', stop_name: 'S233', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S234', stop_name: 'S234', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S235', stop_name: 'S235', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S236', stop_name: 'S236', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S237', stop_name: 'S237', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S238', stop_name: 'S238', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S239', stop_name: 'S239', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S240', stop_name: 'S240', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S241', stop_name: 'S241', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S242', stop_name: 'S242', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S243', stop_name: 'S243', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S244', stop_name: 'S244', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S245', stop_name: 'S245', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S246', stop_name: 'S246', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S247', stop_name: 'S247', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S248', stop_name: 'S248', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S249', stop_name: 'S249', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S250', stop_name: 'S250', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S251', stop_name: 'S251', lat: 43.5305, lon: -80.2300 },
                    { stop_id: 'S252', stop_name: 'S252', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S253', stop_name: 'S253', lat: 43.5315, lon: -80.2280 },
                    { stop_id: 'S254', stop_name: 'S254', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S255', stop_name: 'S255', lat: 43.5310, lon: -80.2160 },
                    { stop_id: 'S256', stop_name: 'S256', lat: 43.5340, lon: -80.2290 },
                    { stop_id: 'S257', stop_name: 'S257', lat: 43.5295, lon: -80.2230 },
                    { stop_id: 'S258', stop_name: 'S258', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S259', stop_name: 'S259', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S260', stop_name: 'S260', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S261', stop_name: 'S261', lat: 43.5315, lon: -80.2250 },
                    { stop_id: 'S262', stop_name: 'S262', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S263', stop_name: 'S263', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S264', stop_name: 'S264', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S265', stop_name: 'S265', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S266', stop_name: 'S266', lat: 43.5320, lon: -80.2300 },
                    { stop_id: 'S267', stop_name: 'S267', lat: 43.5305, lon: -80.2170 },
                    { stop_id: 'S268', stop_name: 'S268', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S269', stop_name: 'S269', lat: 43.5315, lon: -80.2220 },
                    { stop_id: 'S270', stop_name: 'S270', lat: 43.5325, lon: -80.2270 },
                    { stop_id: 'S271', stop_name: 'S271', lat: 43.5310, lon: -80.2190 },
                    { stop_id: 'S272', stop_name: 'S272', lat: 43.5340, lon: -80.2310 },
                    { stop_id: 'S273', stop_name: 'S273', lat: 43.5295, lon: -80.2240 },
                    { stop_id: 'S274', stop_name: 'S274', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S275', stop_name: 'S275', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S276', stop_name: 'S276', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S277', stop_name: 'S277', lat: 43.5315, lon: -80.2300 },
                    { stop_id: 'S278', stop_name: 'S278', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S279', stop_name: 'S279', lat: 43.5310, lon: -80.2250 },
                    { stop_id: 'S280', stop_name: 'S280', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S281', stop_name: 'S281', lat: 43.5295, lon: -80.2290 },
                    { stop_id: 'S282', stop_name: 'S282', lat: 43.5320, lon: -80.2200 },
                    { stop_id: 'S283', stop_name: 'S283', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S284', stop_name: 'S284', lat: 43.5330, lon: -80.2170 },
                    { stop_id: 'S285', stop_name: 'S285', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S286', stop_name: 'S286', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S287', stop_name: 'S287', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S288', stop_name: 'S288', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S289', stop_name: 'S289', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S290', stop_name: 'S290', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S291', stop_name: 'S291', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S292', stop_name: 'S292', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S293', stop_name: 'S293', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S294', stop_name: 'S294', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S295', stop_name: 'S295', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S296', stop_name: 'S296', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S297', stop_name: 'S297', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S298', stop_name: 'S298', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S299', stop_name: 'S299', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S300', stop_name: 'S300', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S301', stop_name: 'S301', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S302', stop_name: 'S302', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S303', stop_name: 'S303', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S304', stop_name: 'S304', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S305', stop_name: 'S305', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S306', stop_name: 'S306', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S307', stop_name: 'S307', lat: 43.5305, lon: -80.2300 },
                    { stop_id: 'S308', stop_name: 'S308', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S309', stop_name: 'S309', lat: 43.5315, lon: -80.2280 },
                    { stop_id: 'S310', stop_name: 'S310', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S311', stop_name: 'S311', lat: 43.5310, lon: -80.2160 },
                    { stop_id: 'S312', stop_name: 'S312', lat: 43.5340, lon: -80.2290 },
                    { stop_id: 'S313', stop_name: 'S313', lat: 43.5295, lon: -80.2230 },
                    { stop_id: 'S314', stop_name: 'S314', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S315', stop_name: 'S315', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S316', stop_name: 'S316', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S317', stop_name: 'S317', lat: 43.5315, lon: -80.2250 },
                    { stop_id: 'S318', stop_name: 'S318', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S319', stop_name: 'S319', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S320', stop_name: 'S320', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S321', stop_name: 'S321', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S322', stop_name: 'S322', lat: 43.5320, lon: -80.2300 },
                    { stop_id: 'S323', stop_name: 'S323', lat: 43.5305, lon: -80.2170 },
                    { stop_id: 'S324', stop_name: 'S324', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S325', stop_name: 'S325', lat: 43.5315, lon: -80.2220 },
                    { stop_id: 'S326', stop_name: 'S326', lat: 43.5325, lon: -80.2270 },
                    { stop_id: 'S327', stop_name: 'S327', lat: 43.5310, lon: -80.2190 },
                    { stop_id: 'S328', stop_name: 'S328', lat: 43.5340, lon: -80.2310 },
                    { stop_id: 'S329', stop_name: 'S329', lat: 43.5295, lon: -80.2240 },
                    { stop_id: 'S330', stop_name: 'S330', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S331', stop_name: 'S331', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S332', stop_name: 'S332', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S333', stop_name: 'S333', lat: 43.5315, lon: -80.2300 },
                    { stop_id: 'S334', stop_name: 'S334', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S335', stop_name: 'S335', lat: 43.5310, lon: -80.2250 },
                    { stop_id: 'S336', stop_name: 'S336', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S337', stop_name: 'S337', lat: 43.5295, lon: -80.2290 },
                    { stop_id: 'S338', stop_name: 'S338', lat: 43.5320, lon: -80.2200 },
                    { stop_id: 'S339', stop_name: 'S339', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S340', stop_name: 'S340', lat: 43.5330, lon: -80.2170 },
                    { stop_id: 'S341', stop_name: 'S341', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S342', stop_name: 'S342', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S343', stop_name: 'S343', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S344', stop_name: 'S344', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S345', stop_name: 'S345', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S346', stop_name: 'S346', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S347', stop_name: 'S347', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S348', stop_name: 'S348', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S349', stop_name: 'S349', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S350', stop_name: 'S350', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S351', stop_name: 'S351', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S352', stop_name: 'S352', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S353', stop_name: 'S353', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S354', stop_name: 'S354', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S355', stop_name: 'S355', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S356', stop_name: 'S356', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S357', stop_name: 'S357', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S358', stop_name: 'S358', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S359', stop_name: 'S359', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S360', stop_name: 'S360', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S361', stop_name: 'S361', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S362', stop_name: 'S362', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S363', stop_name: 'S363', lat: 43.5305, lon: -80.2300 },
                    { stop_id: 'S364', stop_name: 'S364', lat: 43.5330, lon: -80.2210 },
                    { stop_id: 'S365', stop_name: 'S365', lat: 43.5315, lon: -80.2280 },
                    { stop_id: 'S366', stop_name: 'S366', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S367', stop_name: 'S367', lat: 43.5310, lon: -80.2160 },
                    { stop_id: 'S368', stop_name: 'S368', lat: 43.5340, lon: -80.2290 },
                    { stop_id: 'S369', stop_name: 'S369', lat: 43.5295, lon: -80.2230 },
                    { stop_id: 'S370', stop_name: 'S370', lat: 43.5320, lon: -80.2270 },
                    { stop_id: 'S371', stop_name: 'S371', lat: 43.5305, lon: -80.2200 },
                    { stop_id: 'S372', stop_name: 'S372', lat: 43.5330, lon: -80.2310 },
                    { stop_id: 'S373', stop_name: 'S373', lat: 43.5315, lon: -80.2250 },
                    { stop_id: 'S374', stop_name: 'S374', lat: 43.5325, lon: -80.2180 },
                    { stop_id: 'S375', stop_name: 'S375', lat: 43.5310, lon: -80.2290 },
                    { stop_id: 'S376', stop_name: 'S376', lat: 43.5340, lon: -80.2240 },
                    { stop_id: 'S377', stop_name: 'S377', lat: 43.5295, lon: -80.2210 },
                    { stop_id: 'S378', stop_name: 'S378', lat: 43.5320, lon: -80.2300 },
                    { stop_id: 'S379', stop_name: 'S379', lat: 43.5305, lon: -80.2170 },
                    { stop_id: 'S380', stop_name: 'S380', lat: 43.5330, lon: -80.2260 },
                    { stop_id: 'S381', stop_name: 'S381', lat: 43.5315, lon: -80.2220 },
                    { stop_id: 'S382', stop_name: 'S382', lat: 43.5325, lon: -80.2270 },
                    { stop_id: 'S383', stop_name: 'S383', lat: 43.5310, lon: -80.2190 },
                    { stop_id: 'S384', stop_name: 'S384', lat: 43.5340, lon: -80.2310 },
                    { stop_id: 'S385', stop_name: 'S385', lat: 43.5295, lon: -80.2240 },
                    { stop_id: 'S386', stop_name: 'S386', lat: 43.5320, lon: -80.2260 },
                    { stop_id: 'S387', stop_name: 'S387', lat: 43.5305, lon: -80.2280 },
                    { stop_id: 'S388', stop_name: 'S388', lat: 43.5330, lon: -80.2200 },
                    { stop_id: 'S389', stop_name: 'S389', lat: 43.5315, lon: -80.2300 },
                    { stop_id: 'S390', stop_name: 'S390', lat: 43.5325, lon: -80.2210 },
                    { stop_id: 'S391', stop_name: 'S391', lat: 43.5310, lon: -80.2250 },
                    { stop_id: 'S392', stop_name: 'S392', lat: 43.5340, lon: -80.2180 },
                    { stop_id: 'S393', stop_name: 'S393', lat: 43.5295, lon: -80.2290 },
                    { stop_id: 'S394', stop_name: 'S394', lat: 43.5320, lon: -80.2200 },
                    { stop_id: 'S395', stop_name: 'S395', lat: 43.5305, lon: -80.2310 },
                    { stop_id: 'S396', stop_name: 'S396', lat: 43.5330, lon: -80.2170 },
                    { stop_id: 'S397', stop_name: 'S397', lat: 43.5315, lon: -80.2270 },
                    { stop_id: 'S398', stop_name: 'S398', lat: 43.5325, lon: -80.2240 },
                    { stop_id: 'S399', stop_name: 'S399', lat: 43.5310, lon: -80.2220 },
                    { stop_id: 'S400', stop_name: 'S400', lat: 43.5340, lon: -80.2300 },
                    { stop_id: 'S401', stop_name: 'S401', lat: 43.5295, lon: -80.2250 },
                    { stop_id: 'S402', stop_name: 'S402', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S403', stop_name: 'S403', lat: 43.5305, lon: -80.2270 },
                    { stop_id: 'S404', stop_name: 'S404', lat: 43.5330, lon: -80.2240 },
                    { stop_id: 'S405', stop_name: 'S405', lat: 43.5315, lon: -80.2210 },
                    { stop_id: 'S406', stop_name: 'S406', lat: 43.5325, lon: -80.2175 },
                    { stop_id: 'S407', stop_name: 'S407', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S408', stop_name: 'S408', lat: 43.5340, lon: -80.2260 },
                    { stop_id: 'S409', stop_name: 'S409', lat: 43.5295, lon: -80.2220 },
                    { stop_id: 'S410', stop_name: 'S410', lat: 43.5320, lon: -80.2290 },
                    { stop_id: 'S411', stop_name: 'S411', lat: 43.5305, lon: -80.2180 },
                    { stop_id: 'S412', stop_name: 'S412', lat: 43.5330, lon: -80.2270 },
                    { stop_id: 'S413', stop_name: 'S413', lat: 43.5315, lon: -80.2240 },
                    { stop_id: 'S414', stop_name: 'S414', lat: 43.5325, lon: -80.2200 },
                    { stop_id: 'S415', stop_name: 'S415', lat: 43.5310, lon: -80.2310 },
                    { stop_id: 'S416', stop_name: 'S416', lat: 43.5340, lon: -80.2220 },
                    { stop_id: 'S417', stop_name: 'S417', lat: 43.5295, lon: -80.2270 },
                    { stop_id: 'S418', stop_name: 'S418', lat: 43.5320, lon: -80.2190 },
                    { stop_id: 'S419', stop_name: 'S419', lat: 43.5305, lon: -80.2300 }
                ];
                // HARDCODED TRIP/ROUTE DATA
                const tripsData = [
                    {
                        trip_id: 'TRIP1',
                        stops: ['S1', 'S2', 'S3']
                    },
                    {
                        trip_id: 'TRIP2',
                        stops: ['S4', 'S5', 'S2', 'S3']
                    },
                    {
                        trip_id: 'TRIP3',
                        stops: ['S6', 'S7', 'S8', 'S9', 'S10']
                    }
                ];

                async function loadGTFS() {
                try {
                    status('loading embedded GTFS...');

                // Clear existing data
                Object.keys(stops).forEach(k => delete stops[k]);
                    stopsList.length = 0;
                    Object.keys(stopTimesByTrip).forEach(k => delete stopTimesByTrip[k]);

                    // Populate stops from hardcoded data
                    for(const s of stopsData) {
                        stops[s.stop_id] = s;
                        stopsList.push(s);
                    }

                // Populate trip sequences from hardcoded data
                for(const trip of tripsData) {
                        stopTimesByTrip[trip.trip_id] = [];
                        for (let i = 0; i < trip.stops.length; i++) {
                            stopTimesByTrip[trip.trip_id].push({
                                stop_id: trip.stops[i],
                                stop_sequence: i + 1
                            });
                        }
                    }

                console.log(`Loaded ${stopsList.length} stops`);
                    console.log(`Loaded ${Object.keys(stopTimesByTrip).length} trips`);

                    populateSelects();
                status(`loaded ${stopsList.length
                } stops, ${ Object.keys(stopTimesByTrip).length } trips`);
            } catch (err) {
                console.error('ERROR:', err);
                status('ERROR: ' + (err && err.message ? err.message : err));
            }
        }

        function populateSelects() {
            startSelect.innerHTML = ''; endSelect.innerHTML = '';
            const placeholder = document.createElement('option'); placeholder.value = ''; placeholder.textContent = '-- choose --';
            startSelect.appendChild(placeholder.cloneNode(true));
            endSelect.appendChild(placeholder.cloneNode(true));
            stopsList.sort((a, b) => (a.stop_name || '').localeCompare(b.stop_name || ''));
            for (const s of stopsList) {
                const o1 = document.createElement('option'); o1.value = s.stop_id; o1.textContent = `${ s.stop_name }(${ s.stop_id })`;
                const o2 = o1.cloneNode(true);
                startSelect.appendChild(o1); endSelect.appendChild(o2);
            }
        }

        function findStop(query) {
            if (!query) return null;
            query = String(query).trim();
            if (stops[query]) return stops[query];
            const q = query.toLowerCase();
            for (const s of stopsList) if (s.stop_name && s.stop_name.toLowerCase().includes(q)) return s;
            return null;
        }

        function findTripSequence(originId, finalId) {
            for (const tripId in stopTimesByTrip) {
                const seq = stopTimesByTrip[tripId].slice().sort((a, b) => a.stop_sequence - b.stop_sequence);
                let idxO = -1, idxF = -1;
                for (let i = 0; i < seq.length; i++) {
                    if (seq[i].stop_id === originId) idxO = i;
                    if (seq[i].stop_id === finalId) { idxF = i; break; }
                }
                if (idxO >= 0 && idxF >= idxO) {
                    const out = [];
                    // Include all stops between and including origin and final
                    for (let i = idxO; i <= idxF; i++) {
                        const s = stops[seq[i].stop_id];
                        if (!s) { out.length = 0; break; }
                        out.push(s);
                    }
                    if (out.length) return out;
                }
            }
            return null;
        }

        function drawSequence(seq) {
            clearMap();
            if (!seq || seq.length === 0) return;
            const latlngs = seq.map(s => [s.lat, s.lon]);
            polyLayer = L.polyline(latlngs, { color: '#1f78b4', weight: 4 }).addTo(map);
            seq.forEach((s, i) => {
                const m = L.marker([s.lat, s.lon]).addTo(map).bindPopup(`${ i === 0 ? 'Origin' : (i === seq.length - 1 ? 'Final' : 'Stop')}: ${ s.stop_name } (${ s.stop_id })`);
                markerLayers.push(m);
            });
            try { map.fitBounds(polyLayer.getBounds(), { padding: [20, 20] }); } catch (e) { }
            let dist = 0;
            for (let i = 0; i < seq.length - 1; i++) dist += haversine(seq[i].lat, seq[i].lon, seq[i + 1].lat, seq[i + 1].lon);
            status(`plotted ${ seq.length } stops — distance ≈ ${ dist.toFixed(2) } km`);
        }

        function clearMap() {
            if (polyLayer) { map.removeLayer(polyLayer); polyLayer = null; }
            markerLayers.forEach(m => map.removeLayer(m)); markerLayers = [];
            status('cleared map');
        }

        function haversine(lat1, lon1, lat2, lon2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat / 2) ** 2 + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) ** 2;
            return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));
        }

        function handleRoute() {
            const sId = startSelect.value || null;
            const eId = endSelect.value || null;
            let origin = sId ? stops[sId] : findStop(startText.value);
            let final = eId ? stops[eId] : findStop(endText.value);

            if (!origin || !final) { alert('Could not resolve both origin and final stops.'); return; }
            if (origin.stop_id === final.stop_id) { alert('Origin and final are the same stop.'); return; }

            const seq = findTripSequence(origin.stop_id, final.stop_id);
            if (!seq) {
                if (!confirm('No trip contains both stops in order. Draw direct connection instead?')) return;
                drawSequence([origin, final]);
                return;
            }
            drawSequence(seq);
        }

        loadBtn.addEventListener('click', loadGTFS);
        routeBtn.addEventListener('click', handleRoute);
        clearBtn.addEventListener('click', clearMap);

        // auto load on page open
        window.addEventListener('load', () => {
            setTimeout(loadGTFS, 500);
        });
    </script>
</body>

</html>